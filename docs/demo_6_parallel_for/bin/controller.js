// Generated by Haxe 4.0.0-rc.2+77068e1
(function ($hx_exports) { "use strict";
$hx_exports["tbc"] = $hx_exports["tbc"] || {};
$hx_exports["tbc"]["_TBC"] = $hx_exports["tbc"]["_TBC"] || {};
var $estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var CompileTime = function() { };
CompileTime.__name__ = true;
var Controller = function() { };
Controller.__name__ = true;
Controller.main = function() {
	var win = window;
	var doc = win.document;
	var body = doc.body;
	body.onload = Controller.onload;
};
Controller.printStack = function() {
	haxe_Log.trace(haxe_CallStack.toString(haxe_CallStack.exceptionStack()),{ fileName : "docs/demo_6_parallel_for/src/Controller.hx", lineNumber : 30, className : "Controller", methodName : "printStack"});
};
Controller.onload = function() {
	var win = window;
	var doc = win.document;
	haxe_Log.trace("Last compiled " + "2019-05-01 17:20:17",{ fileName : "docs/demo_6_parallel_for/src/Controller.hx", lineNumber : 39, className : "Controller", methodName : "onload"});
	haxe_Log.trace("Started at " + Std.string(new Date()),{ fileName : "docs/demo_6_parallel_for/src/Controller.hx", lineNumber : 40, className : "Controller", methodName : "onload"});
	var count = 16;
	var stage = $("#stage");
	stage.css("position","relative");
	stage.css("border","thin black solid");
	stage.css("width",500);
	stage.css("height",410);
	stage.css("background-color","white");
	var _g = 0;
	var _g1 = count;
	while(_g < _g1) {
		var i = _g++;
		var ball = $("<div></div>");
		ball.css("width",20);
		ball.css("height",20);
		ball.css("background-color","black");
		ball.css("position","absolute");
		ball.css("border-radius",10);
		ball.css("top",5 + i * 25);
		ball.css("left",240);
		stage.append(ball);
		Controller.balls.push(ball);
	}
	var p = tbc_TBC.parFor(count,Controller.ballBehaviour);
	p.go(function(x) {
	},function(ex) {
		haxe_Log.trace("Exception " + Std.string(ex),{ fileName : "docs/demo_6_parallel_for/src/Controller.hx", lineNumber : 66, className : "Controller", methodName : "onload"});
		Controller.printStack();
	});
};
Controller.ballBehaviour = function(i) {
	var ball = Controller.balls[i];
	var t = 0;
	var this1 = tbc_TBCTime.pause(60).sc(tbc_TBC.exec(function() {
		t += 60;
		var x = 240 + 100 * Math.cos(t / (512 + 4 * i));
		return ball.css("left",x);
	}));
	return tbc_TBC.loop(this1);
};
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
EReg.__name__ = true;
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,matched: function(n) {
		if(this.r.m != null && n >= 0 && n < this.r.m.length) {
			return this.r.m[n];
		} else {
			throw new js__$Boot_HaxeError("EReg::matched");
		}
	}
};
var HxOverrides = function() { };
HxOverrides.__name__ = true;
HxOverrides.dateStr = function(date) {
	var m = date.getMonth() + 1;
	var d = date.getDate();
	var h = date.getHours();
	var mi = date.getMinutes();
	var s = date.getSeconds();
	return date.getFullYear() + "-" + (m < 10 ? "0" + m : "" + m) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x, x && x[0]=="0" && (x[1]=="x" || x[1]=="X") ? 16 : 10);
	if(isNaN(v)) {
		return null;
	}
	return v;
};
var StringBuf = function() {
	this.b = "";
};
StringBuf.__name__ = true;
var StringTools = function() { };
StringTools.__name__ = true;
StringTools.isSpace = function(s,pos) {
	var c = HxOverrides.cca(s,pos);
	if(!(c > 8 && c < 14)) {
		return c == 32;
	} else {
		return true;
	}
};
StringTools.ltrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,r)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,r,l - r);
	} else {
		return s;
	}
};
StringTools.rtrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,l - r - 1)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,0,l - r);
	} else {
		return s;
	}
};
StringTools.trim = function(s) {
	return StringTools.ltrim(StringTools.rtrim(s));
};
var haxe_StackItem = $hxEnums["haxe.StackItem"] = { __ename__ : true, __constructs__ : ["CFunction","Module","FilePos","Method","LocalFunction"]
	,CFunction: {_hx_index:0,__enum__:"haxe.StackItem",toString:$estr}
	,Module: ($_=function(m) { return {_hx_index:1,m:m,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["m"],$_)
	,FilePos: ($_=function(s,file,line,column) { return {_hx_index:2,s:s,file:file,line:line,column:column,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["s","file","line","column"],$_)
	,Method: ($_=function(classname,method) { return {_hx_index:3,classname:classname,method:method,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["classname","method"],$_)
	,LocalFunction: ($_=function(v) { return {_hx_index:4,v:v,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["v"],$_)
};
var haxe_CallStack = function() { };
haxe_CallStack.__name__ = true;
haxe_CallStack.getStack = function(e) {
	if(e == null) {
		return [];
	}
	var oldValue = Error.prepareStackTrace;
	Error.prepareStackTrace = function(error,callsites) {
		var stack = [];
		var _g = 0;
		while(_g < callsites.length) {
			var site = callsites[_g];
			++_g;
			if(haxe_CallStack.wrapCallSite != null) {
				site = haxe_CallStack.wrapCallSite(site);
			}
			var method = null;
			var fullName = site.getFunctionName();
			if(fullName != null) {
				var idx = fullName.lastIndexOf(".");
				if(idx >= 0) {
					var className = HxOverrides.substr(fullName,0,idx);
					var methodName = HxOverrides.substr(fullName,idx + 1,null);
					method = haxe_StackItem.Method(className,methodName);
				}
			}
			var fileName = site.getFileName();
			var fileAddr = fileName == null ? -1 : fileName.indexOf("file:");
			if(haxe_CallStack.wrapCallSite != null && fileAddr > 0) {
				fileName = HxOverrides.substr(fileName,fileAddr + 6,null);
			}
			stack.push(haxe_StackItem.FilePos(method,fileName,site.getLineNumber(),site.getColumnNumber()));
		}
		return stack;
	};
	var a = haxe_CallStack.makeStack(e.stack);
	Error.prepareStackTrace = oldValue;
	return a;
};
haxe_CallStack.exceptionStack = function() {
	return haxe_CallStack.getStack(haxe_CallStack.lastException);
};
haxe_CallStack.toString = function(stack) {
	var b = new StringBuf();
	var _g = 0;
	while(_g < stack.length) {
		var s = stack[_g];
		++_g;
		b.b += "\nCalled from ";
		haxe_CallStack.itemToString(b,s);
	}
	return b.b;
};
haxe_CallStack.itemToString = function(b,s) {
	switch(s._hx_index) {
	case 0:
		b.b += "a C function";
		break;
	case 1:
		var m = s.m;
		b.b += "module ";
		b.b += m == null ? "null" : "" + m;
		break;
	case 2:
		var col = s.column;
		var line = s.line;
		var file = s.file;
		var s1 = s.s;
		if(s1 != null) {
			haxe_CallStack.itemToString(b,s1);
			b.b += " (";
		}
		b.b += file == null ? "null" : "" + file;
		b.b += " line ";
		b.b += line == null ? "null" : "" + line;
		if(col != null) {
			b.b += " column ";
			b.b += col == null ? "null" : "" + col;
		}
		if(s1 != null) {
			b.b += ")";
		}
		break;
	case 3:
		var meth = s.method;
		var cname = s.classname;
		b.b += cname == null ? "null" : "" + cname;
		b.b += ".";
		b.b += meth == null ? "null" : "" + meth;
		break;
	case 4:
		var n = s.v;
		b.b += "local function #";
		b.b += n == null ? "null" : "" + n;
		break;
	}
};
haxe_CallStack.makeStack = function(s) {
	if(s == null) {
		return [];
	} else if(typeof(s) == "string") {
		var stack = s.split("\n");
		if(stack[0] == "Error") {
			stack.shift();
		}
		var m = [];
		var rie10 = new EReg("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$","");
		var _g = 0;
		while(_g < stack.length) {
			var line = stack[_g];
			++_g;
			if(rie10.match(line)) {
				var path = rie10.matched(1).split(".");
				var meth = path.pop();
				var file = rie10.matched(2);
				var line1 = Std.parseInt(rie10.matched(3));
				var column = Std.parseInt(rie10.matched(4));
				m.push(haxe_StackItem.FilePos(meth == "Anonymous function" ? haxe_StackItem.LocalFunction() : meth == "Global code" ? null : haxe_StackItem.Method(path.join("."),meth),file,line1,column));
			} else {
				m.push(haxe_StackItem.Module(StringTools.trim(line)));
			}
		}
		return m;
	} else {
		return s;
	}
};
var haxe_Log = function() { };
haxe_Log.__name__ = true;
haxe_Log.formatOutput = function(v,infos) {
	var str = Std.string(v);
	if(infos == null) {
		return str;
	}
	var pstr = infos.fileName + ":" + infos.lineNumber;
	if(infos != null && infos.customParams != null) {
		var _g = 0;
		var _g1 = infos.customParams;
		while(_g < _g1.length) {
			var v1 = _g1[_g];
			++_g;
			str += ", " + Std.string(v1);
		}
	}
	return pstr + ": " + str;
};
haxe_Log.trace = function(v,infos) {
	var str = haxe_Log.formatOutput(v,infos);
	if(typeof(console) != "undefined" && console.log != null) {
		console.log(str);
	}
};
var haxe_Timer = function(time_ms) {
	var me = this;
	this.id = setInterval(function() {
		me.run();
	},time_ms);
};
haxe_Timer.__name__ = true;
haxe_Timer.prototype = {
	stop: function() {
		if(this.id == null) {
			return;
		}
		clearInterval(this.id);
		this.id = null;
	}
	,run: function() {
	}
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
});
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var n = e.__constructs__[o._hx_index];
			var con = e[n];
			if(con.__params__) {
				s += "\t";
				var tmp = n + "(";
				var _g = [];
				var _g1 = 0;
				var _g2 = con.__params__;
				while(_g1 < _g2.length) {
					var p = _g2[_g1];
					++_g1;
					_g.push(js_Boot.__string_rec(o[p],s));
				}
				return tmp + _g.join(",") + ")";
			} else {
				return n;
			}
		}
		if(((o) instanceof Array)) {
			var l = o.length;
			var i;
			var str = "[";
			s += "\t";
			var _g3 = 0;
			var _g11 = l;
			while(_g3 < _g11) {
				var i1 = _g3++;
				str += (i1 > 0 ? "," : "") + js_Boot.__string_rec(o[i1],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e1 ) {
			haxe_CallStack.lastException = e1;
			var e2 = ((e1) instanceof js__$Boot_HaxeError) ? e1.val : e1;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str1 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str1.length != 2) {
			str1 += ", \n";
		}
		str1 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str1 += "\n" + s + "}";
		return str1;
	case "string":
		return o;
	default:
		return String(o);
	}
};
var js_jquery_JqEltsIterator = function(j) {
	this.i = 0;
	this.j = j;
};
js_jquery_JqEltsIterator.__name__ = true;
js_jquery_JqEltsIterator.prototype = {
	hasNext: function() {
		return this.i < this.j.length;
	}
	,next: function() {
		return $(this.j[this.i++]);
	}
};
var js_jquery_JqIterator = function(j) {
	this.i = 0;
	this.j = j;
};
js_jquery_JqIterator.__name__ = true;
js_jquery_JqIterator.prototype = {
	hasNext: function() {
		return this.i < this.j.length;
	}
	,next: function() {
		return this.j[this.i++];
	}
};
var tbc__$TBC_Process_$Impl_$ = $hx_exports["tbc"]["_TBC"]["Process_Impl_"] = {};
tbc__$TBC_Process_$Impl_$.__name__ = true;
tbc__$TBC_Process_$Impl_$._new = function(p) {
	var this1 = p;
	return this1;
};
tbc__$TBC_Process_$Impl_$.bind = function(this1,f) {
	var this2 = this1.bind(f);
	return this2;
};
tbc__$TBC_Process_$Impl_$.map = function(this1,f) {
	var this2 = this1.map(f);
	return this2;
};
tbc__$TBC_Process_$Impl_$.sc = function(this1,q) {
	var this2 = this1.sc(q);
	return this2;
};
tbc__$TBC_Process_$Impl_$.go = function(this1,k,h) {
	this1.go(k,h);
};
tbc__$TBC_Process_$Impl_$.run = function(this1) {
	this1.run();
};
var tbc_ProcessA = $hx_exports["tbc"]["ProcessA"] = function() { };
tbc_ProcessA.__name__ = true;
tbc_ProcessA.printStack = function() {
	haxe_Log.trace(haxe_CallStack.toString(haxe_CallStack.exceptionStack()),{ fileName : "src/tbc/TBC.hx", lineNumber : 98, className : "tbc.ProcessA", methodName : "printStack"});
};
tbc_ProcessA.prototype = {
	bind: function(f) {
		return new tbc__$TBC_ThenP(this,f);
	}
	,map: function(f) {
		var f1 = function(a) {
			return new tbc__$TBC_ExecP(function() {
				return f(a);
			});
		};
		return new tbc__$TBC_ThenP(this,f1);
	}
	,sc: function(q) {
		return new tbc__$TBC_ThenP(this,function(a) {
			return q;
		});
	}
	,run: function() {
		this.go(function(a) {
			return { };
		},function(ex) {
			haxe_Log.trace("Process throws uncaught exception " + Std.string(ex),{ fileName : "src/tbc/TBC.hx", lineNumber : 105, className : "tbc.ProcessA", methodName : "run"});
			haxe_Log.trace(haxe_CallStack.toString(haxe_CallStack.exceptionStack()),{ fileName : "src/tbc/TBC.hx", lineNumber : 106, className : "tbc.ProcessA", methodName : "run"});
			return;
		});
	}
	,go: function(k,h) {
		h("go is not defined in " + Std.string(this));
	}
};
var tbc__$TBC_ThenP = function(left,right) {
	this._left = left;
	this._right = right;
};
tbc__$TBC_ThenP.__name__ = true;
tbc__$TBC_ThenP.__super__ = tbc_ProcessA;
tbc__$TBC_ThenP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(f,h) {
		var _gthis = this;
		this._left.go(function(a) {
			_gthis._right(a).go(f,h);
		},h);
	}
});
var tbc__$TBC_ExecP = function(f) {
	this._f = f;
};
tbc__$TBC_ExecP.__name__ = true;
tbc__$TBC_ExecP.__super__ = tbc_ProcessA;
tbc__$TBC_ExecP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		try {
			k(this._f());
		} catch( ex ) {
			haxe_CallStack.lastException = ex;
			h(((ex) instanceof js__$Boot_HaxeError) ? ex.val : ex);
		}
	}
});
var tbc__$TBC_TossP = function(ex) {
	this._ex = ex;
};
tbc__$TBC_TossP.__name__ = true;
tbc__$TBC_TossP.__super__ = tbc_ProcessA;
tbc__$TBC_TossP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		h(this._ex);
	}
});
var tbc__$TBC_AttemptP = function(p,f,q) {
	this._p = p;
	this._f = f;
	this._q = q;
};
tbc__$TBC_AttemptP.__name__ = true;
tbc__$TBC_AttemptP.__super__ = tbc_ProcessA;
tbc__$TBC_AttemptP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var _gthis = this;
		this._p.go(function(a) {
			_gthis._q.go(function(t) {
				k(a);
			},h);
		},function(ex) {
			_gthis._f(ex).go(function(a1) {
				_gthis._q.go(function(t1) {
					k(a1);
				},h);
			},function(ex1) {
				_gthis._q.go(function(t2) {
					h(ex1);
				},function(ex2) {
					h(new tbc_Pair(ex1,ex2));
				});
			});
		});
	}
});
var tbc__$TBC_Guard_$Impl_$ = $hx_exports["tbc"]["_TBC"]["Guard_Impl_"] = {};
tbc__$TBC_Guard_$Impl_$.__name__ = true;
tbc__$TBC_Guard_$Impl_$._new = function(g) {
	var this1 = g;
	return this1;
};
tbc__$TBC_Guard_$Impl_$.enable = function(this1,k,h) {
	return this1.enable(k,h);
};
tbc__$TBC_Guard_$Impl_$.guarding = function(this1,k) {
	return this1.guarding(k);
};
tbc__$TBC_Guard_$Impl_$.andThen = function(this1,p) {
	return this1.andThen(p);
};
tbc__$TBC_Guard_$Impl_$.filter = function(this1,c) {
	return this1.filter(c);
};
var tbc_GuardA = $hx_exports["tbc"]["GuardA"] = function() { };
tbc_GuardA.__name__ = true;
tbc_GuardA.prototype = {
	enable: function(k,h) {
		h("Method enable not overridden in " + Std.string(this));
		return null;
	}
	,guarding: function(k) {
		return new tbc__$TBC_GuardedProcessC(this,k);
	}
	,andThen: function(p) {
		return this.guarding(function(ev) {
			return p;
		});
	}
	,filter: function(c) {
		return new tbc_FliteredGuard(this,c);
	}
};
var tbc_FliteredGuard = $hx_exports["tbc"]["FliteredGuard"] = function(guard,c) {
	this._guard = guard;
	this._filter = c;
};
tbc_FliteredGuard.__name__ = true;
tbc_FliteredGuard.__super__ = tbc_GuardA;
tbc_FliteredGuard.prototype = $extend(tbc_GuardA.prototype,{
	enable: function(k,h) {
		var _gthis = this;
		return this._guard.enable(function(b) {
			if(_gthis._filter(b)) {
				k(b);
			}
		},h);
	}
});
var tbc__$TBC_GuardedProcess_$Impl_$ = $hx_exports["tbc"]["_TBC"]["GuardedProcess_Impl_"] = {};
tbc__$TBC_GuardedProcess_$Impl_$.__name__ = true;
tbc__$TBC_GuardedProcess_$Impl_$._new = function(gp) {
	var this1 = gp;
	return this1;
};
tbc__$TBC_GuardedProcess_$Impl_$.bind = function(this1,f) {
	var this2 = this1.bind(f);
	return this2;
};
tbc__$TBC_GuardedProcess_$Impl_$.sc = function(this1,q) {
	var this2 = this1.sc(q);
	return this2;
};
tbc__$TBC_GuardedProcess_$Impl_$.orElse = function(this1,gp) {
	var this2 = this1.orElse(gp);
	return this2;
};
tbc__$TBC_GuardedProcess_$Impl_$.enable = function(this1,first,k,h) {
	return this1.enable(first,k,h);
};
var tbc_GuardedProcessA = $hx_exports["tbc"]["GuardedProcessA"] = function() { };
tbc_GuardedProcessA.__name__ = true;
tbc_GuardedProcessA.prototype = {
	bind: function(f) {
		return new tbc__$TBC_ThenGP(this,f);
	}
	,sc: function(b) {
		return new tbc__$TBC_ThenGP(this,function(a) {
			return b;
		});
	}
	,orElse: function(gp) {
		return new tbc__$TBC_ChoiceGP(this,gp);
	}
	,enable: function(first,k,h) {
		h("enable is not defined in " + Std.string(this));
		return null;
	}
};
var tbc__$TBC_GuardedProcessC = function(guard,f) {
	this._guard = guard;
	this._f = f;
};
tbc__$TBC_GuardedProcessC.__name__ = true;
tbc__$TBC_GuardedProcessC.__super__ = tbc_GuardedProcessA;
tbc__$TBC_GuardedProcessC.prototype = $extend(tbc_GuardedProcessA.prototype,{
	enable: function(first,k,h) {
		var _gthis = this;
		return this._guard.enable(function(e) {
			first();
			_gthis._f(e).go(k,h);
		},h);
	}
});
var tbc__$TBC_ThenGP = function(gp,f) {
	this._gp = gp;
	this._f = f;
};
tbc__$TBC_ThenGP.__name__ = true;
tbc__$TBC_ThenGP.__super__ = tbc_GuardedProcessA;
tbc__$TBC_ThenGP.prototype = $extend(tbc_GuardedProcessA.prototype,{
	enable: function(first,k,h) {
		var _gthis = this;
		return this._gp.enable(first,function(a) {
			_gthis._f(a).go(k,h);
		},h);
	}
});
var tbc__$TBC_ChoiceGP = function(gp0,gp1) {
	this._gp0 = gp0;
	this._gp1 = gp1;
};
tbc__$TBC_ChoiceGP.__name__ = true;
tbc__$TBC_ChoiceGP.__super__ = tbc_GuardedProcessA;
tbc__$TBC_ChoiceGP.prototype = $extend(tbc_GuardedProcessA.prototype,{
	enable: function(first,k,h) {
		var d0 = this._gp0.enable(first,k,h);
		var d1 = this._gp1.enable(first,k,h);
		return new tbc__$TBC_ChoiceDisabler(d0,d1);
	}
});
var tbc__$TBC_ChoiceDisabler = function(d0,d1) {
	this._d0 = d0;
	this._d1 = d1;
};
tbc__$TBC_ChoiceDisabler.__name__ = true;
tbc__$TBC_ChoiceDisabler.prototype = {
	disable: function() {
		this._d0.disable();
		this._d1.disable();
	}
};
var tbc__$TBC_AwaitP = function(gp) {
	this._gp = gp;
};
tbc__$TBC_AwaitP.__name__ = true;
tbc__$TBC_AwaitP.__super__ = tbc_ProcessA;
tbc__$TBC_AwaitP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var disabler = null;
		var disable = function() {
			disabler.disable();
		};
		disabler = this._gp.enable(disable,k,h);
	}
});
var tbc__$TBC_AltP = function(e,p,q) {
	this._e = e;
	this._p = p;
	this._q = q;
};
tbc__$TBC_AltP.__name__ = true;
tbc__$TBC_AltP.__super__ = tbc_ProcessA;
tbc__$TBC_AltP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var _gthis = this;
		this._e.go(function(b) {
			if(b) {
				_gthis._p.go(k,h);
			} else {
				_gthis._q.go(k,h);
			}
		},h);
	}
});
var tbc__$TBC_Par2P = function(p,q) {
	this._p = p;
	this._q = q;
};
tbc__$TBC_Par2P.__name__ = true;
tbc__$TBC_Par2P.__super__ = tbc_ProcessA;
tbc__$TBC_Par2P.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var result = new tbc_Pair();
		var completed = 0;
		this._p.go(function(a) {
			result._left = a;
			completed += 1;
			if(completed == 2) {
				k(result);
			}
		},h);
		this._q.go(function(b) {
			result._right = b;
			completed += 1;
			if(completed == 2) {
				k(result);
			}
		},h);
	}
});
var tbc__$TBC_ParFor = function(n,f) {
	this._n = n;
	this._f = f;
};
tbc__$TBC_ParFor.__name__ = true;
tbc__$TBC_ParFor.__super__ = tbc_ProcessA;
tbc__$TBC_ParFor.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var _gthis = this;
		var this1 = new Array(this._n);
		var result = this1;
		var completed = 0;
		var _g = 0;
		var _g1 = this._n;
		while(_g < _g1) {
			var i = [_g++];
			this._f(i[0]).go((function(i1) {
				return function(a) {
					result[i1[0]] = a;
					completed += 1;
					if(completed == _gthis._n) {
						k(result);
					}
				};
			})(i),h);
		}
	}
});
var tbc_Triv = $hxEnums["tbc.Triv"] = { __ename__ : true, __constructs__ : []
};
var tbc_Pair = $hx_exports["tbc"]["Pair"] = function(a,b) {
	this._left = a;
	this._right = b;
};
tbc_Pair.__name__ = true;
var tbc_TBC = $hx_exports["tbc"]["TBC"] = function() {
};
tbc_TBC.__name__ = true;
tbc_TBC.skip = function() {
	return tbc_TBC.unit(null);
};
tbc_TBC.unit = function(a) {
	return new tbc__$TBC_ExecP(function() {
		return a;
	});
};
tbc_TBC.exec = function(f) {
	return new tbc__$TBC_ExecP(f);
};
tbc_TBC.par = function(p,q) {
	return new tbc__$TBC_Par2P(p,q);
};
tbc_TBC.parFor = function(n,f) {
	return new tbc__$TBC_ParFor(n,f);
};
tbc_TBC.loop = function(p) {
	var this1 = p.bind(function(a) {
		return tbc_TBC.loop(p);
	});
	return this1;
};
tbc_TBC.alt = function(e,p,q) {
	return new tbc__$TBC_AltP(e,p,q);
};
tbc_TBC.fix = function(f) {
	var p = null;
	var fp = function() {
		if(p == null) {
			return tbc_TBC.toss("TBC Error in fix. Possibly a missing invoke?");
		} else {
			return p;
		}
	};
	p = f(fp);
	return p;
};
tbc_TBC.toss = function(ex) {
	return new tbc__$TBC_TossP(ex);
};
tbc_TBC.attempt = function(p,f,q) {
	if(q == null) {
		q = tbc_TBC.skip();
	}
	return new tbc__$TBC_AttemptP(p,f,q);
};
tbc_TBC.ultimately = function(p,q) {
	var f = function(ex) {
		return tbc_TBC.toss(ex);
	};
	return tbc_TBC.attempt(p,f,q);
};
tbc_TBC.invoke = function(fp) {
	var this1 = tbc_TBC.exec(fp).bind(function(p) {
		return p;
	});
	return this1;
};
tbc_TBC.await = function(gp0,gp1,gp2,gp3,gp4,gp5) {
	var gp = gp0;
	if(gp1 != null) {
		var this1 = gp.orElse(gp1);
		gp = this1;
	}
	if(gp2 != null) {
		var this2 = gp.orElse(gp2);
		gp = this2;
	}
	if(gp3 != null) {
		var this3 = gp.orElse(gp3);
		gp = this3;
	}
	if(gp4 != null) {
		var this4 = gp.orElse(gp4);
		gp = this4;
	}
	if(gp5 != null) {
		var this5 = gp.orElse(gp5);
		gp = this5;
	}
	return new tbc__$TBC_AwaitP(gp);
};
var tbc__$TBCJQuery_JQueryDisabler = function(elements,eventName,handler) {
	this._elements = elements;
	this._eventName = eventName;
	this._handler = handler;
};
tbc__$TBCJQuery_JQueryDisabler.__name__ = true;
tbc__$TBCJQuery_JQueryDisabler.prototype = {
	disable: function() {
		this._elements.off(this._eventName,null,this._handler);
	}
};
var tbc_JQueryG = $hx_exports["tbc"]["JQueryG"] = function(elements,eventName) {
	this._elements = elements;
	this._eventName = eventName;
};
tbc_JQueryG.__name__ = true;
tbc_JQueryG.__super__ = tbc_GuardA;
tbc_JQueryG.prototype = $extend(tbc_GuardA.prototype,{
	enable: function(k,h) {
		this._elements.on(this._eventName,null,k);
		return new tbc__$TBCJQuery_JQueryDisabler(this._elements,this._eventName,k);
	}
});
var tbc_TBCJQuery = $hx_exports["tbc"]["TBCJQuery"] = function() { };
tbc_TBCJQuery.__name__ = true;
tbc_TBCJQuery.jqEvent = function(elements,eventName) {
	return new tbc_JQueryG(elements,eventName);
};
tbc_TBCJQuery.stopPropagation = function(ev) {
	return tbc_TBC.exec(tbc_TBCJQuery.stopProp(ev));
};
tbc_TBCJQuery.stopProp = function(ev) {
	return function() {
		ev.stopPropagation();
		return ev;
	};
};
tbc_TBCJQuery.preventDefault = function(ev) {
	return tbc_TBC.exec(tbc_TBCJQuery.prevDef(ev));
};
tbc_TBCJQuery.prevDef = function(ev) {
	return function() {
		ev.preventDefault();
		return ev;
	};
};
var tbc__$TBCTime_MyTimer = function(timeInMiliSecs,k) {
	var _gthis = this;
	this.timer = new haxe_Timer(timeInMiliSecs);
	this.timer.run = function() {
		_gthis.timer.stop();
		k(null);
	};
};
tbc__$TBCTime_MyTimer.__name__ = true;
tbc__$TBCTime_MyTimer.prototype = {
	disable: function() {
		this.timer.stop();
	}
};
var tbc_TimeOutGuard = $hx_exports["tbc"]["TimeOutGuard"] = function(timeInMiliSecs) {
	this._timeInMiliSecs = timeInMiliSecs;
};
tbc_TimeOutGuard.__name__ = true;
tbc_TimeOutGuard.__super__ = tbc_GuardA;
tbc_TimeOutGuard.prototype = $extend(tbc_GuardA.prototype,{
	enable: function(k,h) {
		return new tbc__$TBCTime_MyTimer(this._timeInMiliSecs,k);
	}
});
var tbc_TBCTime = $hx_exports["tbc"]["TBCTime"] = function() { };
tbc_TBCTime.__name__ = true;
tbc_TBCTime.pause = function(delayInMiliSecs) {
	return tbc_TBC.await(tbc__$TBC_Guard_$Impl_$.andThen(tbc_TBCTime.timeout(delayInMiliSecs),tbc_TBC.skip()));
};
tbc_TBCTime.later = function() {
	return tbc_TBCTime.pause(0);
};
tbc_TBCTime.timeout = function(delayInMiliSecs) {
	return new tbc_TimeOutGuard(delayInMiliSecs);
};
String.__name__ = true;
Array.__name__ = true;
Date.__name__ = "Date";
Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{ get : function() {
	return String(this.val);
}});
js_Boot.__toStr = ({ }).toString;
var typeofJQuery = typeof($);
if(typeofJQuery != "undefined" && $.fn != null) {
	$.fn.elements = function() {
		return new js_jquery_JqEltsIterator(this);
	};
}
var typeofJQuery = typeof($);
if(typeofJQuery != "undefined" && $.fn != null) {
	$.fn.iterator = function() {
		return new js_jquery_JqIterator(this);
	};
}
Controller.balls = [];
Controller.main();
})(typeof exports != "undefined" ? exports : typeof window != "undefined" ? window : typeof self != "undefined" ? self : this);
