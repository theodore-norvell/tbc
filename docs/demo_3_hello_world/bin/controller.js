// Generated by Haxe 4.0.0-rc.2+77068e1
(function ($hx_exports, $global) { "use strict";
$hx_exports["tbc"] = $hx_exports["tbc"] || {};
$hx_exports["tbc"]["_TBC"] = $hx_exports["tbc"]["_TBC"] || {};
var $estr = function() { return js_Boot.__string_rec(this,''); },$hxEnums = $hxEnums || {},$_;
function $extend(from, fields) {
	var proto = Object.create(from);
	for (var name in fields) proto[name] = fields[name];
	if( fields.toString !== Object.prototype.toString ) proto.toString = fields.toString;
	return proto;
}
var CompileTime = function() { };
CompileTime.__name__ = true;
var Controller = function() { };
Controller.__name__ = true;
Controller.main = function() {
	var body = window.document.body;
	body.onload = Controller.onload;
};
Controller.show = function(el) {
	return tbc_TBC.exec(function() {
		el.style.visibility = "visible";
		return null;
	});
};
Controller.hide = function(el) {
	return tbc_TBC.exec(function() {
		el.style.visibility = "hidden";
		return null;
	});
};
Controller.getValue = function(el) {
	return tbc_TBC.exec(function() {
		return el.value;
	});
};
Controller.clearText = function(el) {
	return tbc_TBC.exec(function() {
		el.value = "";
		return null;
	});
};
Controller.putText = function(el,str) {
	return tbc_TBC.exec(function() {
		el.textContent = str;
		return null;
	});
};
Controller.mainLoop = function() {
	var this1 = Controller.clearText(Controller.nameBox).sc(Controller.show(Controller.nameBox));
	var this2 = this1.sc(Controller.show(Controller.question));
	var this3 = this2.sc(Controller.getAndDisplayAnswer());
	var this4 = this3.sc(Controller.hide(Controller.question));
	var this5 = this4.sc(Controller.hide(Controller.nameBox));
	var this6 = this5.sc(tbc_TBCTime.pause(1000));
	return tbc_TBC.loop(this6);
};
Controller.getAndDisplayAnswer = function() {
	var this1 = tbc_TBC.await(tbc__$TBC_Guard_$Impl_$.andThen(Controller.enter(Controller.nameBox),Controller.getValue(Controller.nameBox))).bind(function(name) {
		return Controller.hello(name);
	});
	return this1;
};
Controller.onload = function() {
	var win = window;
	var doc = win.document;
	Controller.nameBox = js_Boot.__cast(doc.getElementById("nameBox") , HTMLInputElement);
	Controller.question = doc.getElementById("question");
	Controller.reply = doc.getElementById("reply");
	haxe_Log.trace("Last compiled " + "2019-05-01 17:20:15",{ fileName : "docs/demo_3_hello_world/src/Controller.hx", lineNumber : 66, className : "Controller", methodName : "onload"});
	haxe_Log.trace("Started at " + Std.string(new Date()),{ fileName : "docs/demo_3_hello_world/src/Controller.hx", lineNumber : 67, className : "Controller", methodName : "onload"});
	tbc__$TBC_Process_$Impl_$.run(Controller.mainLoop());
};
Controller.hello = function(name) {
	return Controller.putText(Controller.reply,"Hello " + name);
};
Controller.enter = function(el) {
	var isEnterKey = function(ev) {
		var kev = js_Boot.__cast(ev , KeyboardEvent);
		return kev.code == "Enter";
	};
	return tbc__$TBC_Guard_$Impl_$.filter(tbc_TBCHTML.keypress(Controller.nameBox),isEnterKey);
};
Controller.getAndDisplayAnswer1 = function() {
	var f = function(top) {
		var this1 = Controller.enter(Controller.nameBox);
		var this2 = Controller.getValue(Controller.nameBox).bind(Controller.hello);
		var this3 = tbc__$TBC_Guard_$Impl_$.andThen(this1,this2);
		var gp = tbc_TBCTime.timeout(5000);
		var this4 = Controller.flash(Controller.question).sc(tbc_TBC.invoke(top));
		var this5 = this3.orElse(tbc__$TBC_Guard_$Impl_$.andThen(gp,this4));
		return tbc_TBC.await(this5);
	};
	return tbc_TBC.fix(f);
};
Controller.flash = function(el) {
	var this1 = Controller.hide(el).sc(tbc_TBCTime.pause(100));
	var this2 = this1.sc(Controller.show(el));
	var this3 = this2.sc(tbc_TBCTime.pause(100));
	var this4 = this3.sc(Controller.hide(el));
	var this5 = this4.sc(tbc_TBCTime.pause(100));
	var this6 = this5.sc(Controller.show(el));
	return this6;
};
var EReg = function(r,opt) {
	this.r = new RegExp(r,opt.split("u").join(""));
};
EReg.__name__ = true;
EReg.prototype = {
	match: function(s) {
		if(this.r.global) {
			this.r.lastIndex = 0;
		}
		this.r.m = this.r.exec(s);
		this.r.s = s;
		return this.r.m != null;
	}
	,matched: function(n) {
		if(this.r.m != null && n >= 0 && n < this.r.m.length) {
			return this.r.m[n];
		} else {
			throw new js__$Boot_HaxeError("EReg::matched");
		}
	}
	,__class__: EReg
};
var HxOverrides = function() { };
HxOverrides.__name__ = true;
HxOverrides.dateStr = function(date) {
	var m = date.getMonth() + 1;
	var d = date.getDate();
	var h = date.getHours();
	var mi = date.getMinutes();
	var s = date.getSeconds();
	return date.getFullYear() + "-" + (m < 10 ? "0" + m : "" + m) + "-" + (d < 10 ? "0" + d : "" + d) + " " + (h < 10 ? "0" + h : "" + h) + ":" + (mi < 10 ? "0" + mi : "" + mi) + ":" + (s < 10 ? "0" + s : "" + s);
};
HxOverrides.cca = function(s,index) {
	var x = s.charCodeAt(index);
	if(x != x) {
		return undefined;
	}
	return x;
};
HxOverrides.substr = function(s,pos,len) {
	if(len == null) {
		len = s.length;
	} else if(len < 0) {
		if(pos == 0) {
			len = s.length + len;
		} else {
			return "";
		}
	}
	return s.substr(pos,len);
};
Math.__name__ = true;
var Std = function() { };
Std.__name__ = true;
Std.string = function(s) {
	return js_Boot.__string_rec(s,"");
};
Std.parseInt = function(x) {
	var v = parseInt(x, x && x[0]=="0" && (x[1]=="x" || x[1]=="X") ? 16 : 10);
	if(isNaN(v)) {
		return null;
	}
	return v;
};
var StringBuf = function() {
	this.b = "";
};
StringBuf.__name__ = true;
StringBuf.prototype = {
	__class__: StringBuf
};
var StringTools = function() { };
StringTools.__name__ = true;
StringTools.isSpace = function(s,pos) {
	var c = HxOverrides.cca(s,pos);
	if(!(c > 8 && c < 14)) {
		return c == 32;
	} else {
		return true;
	}
};
StringTools.ltrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,r)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,r,l - r);
	} else {
		return s;
	}
};
StringTools.rtrim = function(s) {
	var l = s.length;
	var r = 0;
	while(r < l && StringTools.isSpace(s,l - r - 1)) ++r;
	if(r > 0) {
		return HxOverrides.substr(s,0,l - r);
	} else {
		return s;
	}
};
StringTools.trim = function(s) {
	return StringTools.ltrim(StringTools.rtrim(s));
};
var haxe_StackItem = $hxEnums["haxe.StackItem"] = { __ename__ : true, __constructs__ : ["CFunction","Module","FilePos","Method","LocalFunction"]
	,CFunction: {_hx_index:0,__enum__:"haxe.StackItem",toString:$estr}
	,Module: ($_=function(m) { return {_hx_index:1,m:m,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["m"],$_)
	,FilePos: ($_=function(s,file,line,column) { return {_hx_index:2,s:s,file:file,line:line,column:column,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["s","file","line","column"],$_)
	,Method: ($_=function(classname,method) { return {_hx_index:3,classname:classname,method:method,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["classname","method"],$_)
	,LocalFunction: ($_=function(v) { return {_hx_index:4,v:v,__enum__:"haxe.StackItem",toString:$estr}; },$_.__params__ = ["v"],$_)
};
var haxe_CallStack = function() { };
haxe_CallStack.__name__ = true;
haxe_CallStack.getStack = function(e) {
	if(e == null) {
		return [];
	}
	var oldValue = Error.prepareStackTrace;
	Error.prepareStackTrace = function(error,callsites) {
		var stack = [];
		var _g = 0;
		while(_g < callsites.length) {
			var site = callsites[_g];
			++_g;
			if(haxe_CallStack.wrapCallSite != null) {
				site = haxe_CallStack.wrapCallSite(site);
			}
			var method = null;
			var fullName = site.getFunctionName();
			if(fullName != null) {
				var idx = fullName.lastIndexOf(".");
				if(idx >= 0) {
					var className = HxOverrides.substr(fullName,0,idx);
					var methodName = HxOverrides.substr(fullName,idx + 1,null);
					method = haxe_StackItem.Method(className,methodName);
				}
			}
			var fileName = site.getFileName();
			var fileAddr = fileName == null ? -1 : fileName.indexOf("file:");
			if(haxe_CallStack.wrapCallSite != null && fileAddr > 0) {
				fileName = HxOverrides.substr(fileName,fileAddr + 6,null);
			}
			stack.push(haxe_StackItem.FilePos(method,fileName,site.getLineNumber(),site.getColumnNumber()));
		}
		return stack;
	};
	var a = haxe_CallStack.makeStack(e.stack);
	Error.prepareStackTrace = oldValue;
	return a;
};
haxe_CallStack.exceptionStack = function() {
	return haxe_CallStack.getStack(haxe_CallStack.lastException);
};
haxe_CallStack.toString = function(stack) {
	var b = new StringBuf();
	var _g = 0;
	while(_g < stack.length) {
		var s = stack[_g];
		++_g;
		b.b += "\nCalled from ";
		haxe_CallStack.itemToString(b,s);
	}
	return b.b;
};
haxe_CallStack.itemToString = function(b,s) {
	switch(s._hx_index) {
	case 0:
		b.b += "a C function";
		break;
	case 1:
		var m = s.m;
		b.b += "module ";
		b.b += m == null ? "null" : "" + m;
		break;
	case 2:
		var col = s.column;
		var line = s.line;
		var file = s.file;
		var s1 = s.s;
		if(s1 != null) {
			haxe_CallStack.itemToString(b,s1);
			b.b += " (";
		}
		b.b += file == null ? "null" : "" + file;
		b.b += " line ";
		b.b += line == null ? "null" : "" + line;
		if(col != null) {
			b.b += " column ";
			b.b += col == null ? "null" : "" + col;
		}
		if(s1 != null) {
			b.b += ")";
		}
		break;
	case 3:
		var meth = s.method;
		var cname = s.classname;
		b.b += cname == null ? "null" : "" + cname;
		b.b += ".";
		b.b += meth == null ? "null" : "" + meth;
		break;
	case 4:
		var n = s.v;
		b.b += "local function #";
		b.b += n == null ? "null" : "" + n;
		break;
	}
};
haxe_CallStack.makeStack = function(s) {
	if(s == null) {
		return [];
	} else if(typeof(s) == "string") {
		var stack = s.split("\n");
		if(stack[0] == "Error") {
			stack.shift();
		}
		var m = [];
		var rie10 = new EReg("^   at ([A-Za-z0-9_. ]+) \\(([^)]+):([0-9]+):([0-9]+)\\)$","");
		var _g = 0;
		while(_g < stack.length) {
			var line = stack[_g];
			++_g;
			if(rie10.match(line)) {
				var path = rie10.matched(1).split(".");
				var meth = path.pop();
				var file = rie10.matched(2);
				var line1 = Std.parseInt(rie10.matched(3));
				var column = Std.parseInt(rie10.matched(4));
				m.push(haxe_StackItem.FilePos(meth == "Anonymous function" ? haxe_StackItem.LocalFunction() : meth == "Global code" ? null : haxe_StackItem.Method(path.join("."),meth),file,line1,column));
			} else {
				m.push(haxe_StackItem.Module(StringTools.trim(line)));
			}
		}
		return m;
	} else {
		return s;
	}
};
var haxe_Log = function() { };
haxe_Log.__name__ = true;
haxe_Log.formatOutput = function(v,infos) {
	var str = Std.string(v);
	if(infos == null) {
		return str;
	}
	var pstr = infos.fileName + ":" + infos.lineNumber;
	if(infos != null && infos.customParams != null) {
		var _g = 0;
		var _g1 = infos.customParams;
		while(_g < _g1.length) {
			var v1 = _g1[_g];
			++_g;
			str += ", " + Std.string(v1);
		}
	}
	return pstr + ": " + str;
};
haxe_Log.trace = function(v,infos) {
	var str = haxe_Log.formatOutput(v,infos);
	if(typeof(console) != "undefined" && console.log != null) {
		console.log(str);
	}
};
var haxe_Timer = function(time_ms) {
	var me = this;
	this.id = setInterval(function() {
		me.run();
	},time_ms);
};
haxe_Timer.__name__ = true;
haxe_Timer.prototype = {
	stop: function() {
		if(this.id == null) {
			return;
		}
		clearInterval(this.id);
		this.id = null;
	}
	,run: function() {
	}
	,__class__: haxe_Timer
};
var js__$Boot_HaxeError = function(val) {
	Error.call(this);
	this.val = val;
	if(Error.captureStackTrace) {
		Error.captureStackTrace(this,js__$Boot_HaxeError);
	}
};
js__$Boot_HaxeError.__name__ = true;
js__$Boot_HaxeError.__super__ = Error;
js__$Boot_HaxeError.prototype = $extend(Error.prototype,{
	__class__: js__$Boot_HaxeError
});
var js_Boot = function() { };
js_Boot.__name__ = true;
js_Boot.getClass = function(o) {
	if(((o) instanceof Array) && o.__enum__ == null) {
		return Array;
	} else {
		var cl = o.__class__;
		if(cl != null) {
			return cl;
		}
		var name = js_Boot.__nativeClassName(o);
		if(name != null) {
			return js_Boot.__resolveNativeClass(name);
		}
		return null;
	}
};
js_Boot.__string_rec = function(o,s) {
	if(o == null) {
		return "null";
	}
	if(s.length >= 5) {
		return "<...>";
	}
	var t = typeof(o);
	if(t == "function" && (o.__name__ || o.__ename__)) {
		t = "object";
	}
	switch(t) {
	case "function":
		return "<function>";
	case "object":
		if(o.__enum__) {
			var e = $hxEnums[o.__enum__];
			var n = e.__constructs__[o._hx_index];
			var con = e[n];
			if(con.__params__) {
				s += "\t";
				var tmp = n + "(";
				var _g = [];
				var _g1 = 0;
				var _g2 = con.__params__;
				while(_g1 < _g2.length) {
					var p = _g2[_g1];
					++_g1;
					_g.push(js_Boot.__string_rec(o[p],s));
				}
				return tmp + _g.join(",") + ")";
			} else {
				return n;
			}
		}
		if(((o) instanceof Array)) {
			var l = o.length;
			var i;
			var str = "[";
			s += "\t";
			var _g3 = 0;
			var _g11 = l;
			while(_g3 < _g11) {
				var i1 = _g3++;
				str += (i1 > 0 ? "," : "") + js_Boot.__string_rec(o[i1],s);
			}
			str += "]";
			return str;
		}
		var tostr;
		try {
			tostr = o.toString;
		} catch( e1 ) {
			haxe_CallStack.lastException = e1;
			var e2 = ((e1) instanceof js__$Boot_HaxeError) ? e1.val : e1;
			return "???";
		}
		if(tostr != null && tostr != Object.toString && typeof(tostr) == "function") {
			var s2 = o.toString();
			if(s2 != "[object Object]") {
				return s2;
			}
		}
		var k = null;
		var str1 = "{\n";
		s += "\t";
		var hasp = o.hasOwnProperty != null;
		for( var k in o ) {
		if(hasp && !o.hasOwnProperty(k)) {
			continue;
		}
		if(k == "prototype" || k == "__class__" || k == "__super__" || k == "__interfaces__" || k == "__properties__") {
			continue;
		}
		if(str1.length != 2) {
			str1 += ", \n";
		}
		str1 += s + k + " : " + js_Boot.__string_rec(o[k],s);
		}
		s = s.substring(1);
		str1 += "\n" + s + "}";
		return str1;
	case "string":
		return o;
	default:
		return String(o);
	}
};
js_Boot.__interfLoop = function(cc,cl) {
	if(cc == null) {
		return false;
	}
	if(cc == cl) {
		return true;
	}
	if(Object.prototype.hasOwnProperty.call(cc,"__interfaces__")) {
		var intf = cc.__interfaces__;
		var _g = 0;
		var _g1 = intf.length;
		while(_g < _g1) {
			var i = _g++;
			var i1 = intf[i];
			if(i1 == cl || js_Boot.__interfLoop(i1,cl)) {
				return true;
			}
		}
	}
	return js_Boot.__interfLoop(cc.__super__,cl);
};
js_Boot.__instanceof = function(o,cl) {
	if(cl == null) {
		return false;
	}
	switch(cl) {
	case Array:
		return ((o) instanceof Array);
	case Bool:
		return typeof(o) == "boolean";
	case Dynamic:
		return o != null;
	case Float:
		return typeof(o) == "number";
	case Int:
		if(typeof(o) == "number") {
			return ((o | 0) === o);
		} else {
			return false;
		}
		break;
	case String:
		return typeof(o) == "string";
	default:
		if(o != null) {
			if(typeof(cl) == "function") {
				if(((o) instanceof cl)) {
					return true;
				}
				if(js_Boot.__interfLoop(js_Boot.getClass(o),cl)) {
					return true;
				}
			} else if(typeof(cl) == "object" && js_Boot.__isNativeObj(cl)) {
				if(((o) instanceof cl)) {
					return true;
				}
			}
		} else {
			return false;
		}
		if(cl == Class ? o.__name__ != null : false) {
			return true;
		}
		if(cl == Enum ? o.__ename__ != null : false) {
			return true;
		}
		if(o.__enum__ != null) {
			return $hxEnums[o.__enum__] == cl;
		} else {
			return false;
		}
	}
};
js_Boot.__cast = function(o,t) {
	if(o == null || js_Boot.__instanceof(o,t)) {
		return o;
	} else {
		throw new js__$Boot_HaxeError("Cannot cast " + Std.string(o) + " to " + Std.string(t));
	}
};
js_Boot.__nativeClassName = function(o) {
	var name = js_Boot.__toStr.call(o).slice(8,-1);
	if(name == "Object" || name == "Function" || name == "Math" || name == "JSON") {
		return null;
	}
	return name;
};
js_Boot.__isNativeObj = function(o) {
	return js_Boot.__nativeClassName(o) != null;
};
js_Boot.__resolveNativeClass = function(name) {
	return $global[name];
};
var tbc_ProcessI = $hx_exports["tbc"]["ProcessI"] = function() { };
tbc_ProcessI.__name__ = true;
tbc_ProcessI.prototype = {
	__class__: tbc_ProcessI
};
var tbc__$TBC_Process_$Impl_$ = $hx_exports["tbc"]["_TBC"]["Process_Impl_"] = {};
tbc__$TBC_Process_$Impl_$.__name__ = true;
tbc__$TBC_Process_$Impl_$._new = function(p) {
	var this1 = p;
	return this1;
};
tbc__$TBC_Process_$Impl_$.bind = function(this1,f) {
	var this2 = this1.bind(f);
	return this2;
};
tbc__$TBC_Process_$Impl_$.map = function(this1,f) {
	var this2 = this1.map(f);
	return this2;
};
tbc__$TBC_Process_$Impl_$.sc = function(this1,q) {
	var this2 = this1.sc(q);
	return this2;
};
tbc__$TBC_Process_$Impl_$.go = function(this1,k,h) {
	this1.go(k,h);
};
tbc__$TBC_Process_$Impl_$.run = function(this1) {
	this1.run();
};
var tbc_ProcessA = $hx_exports["tbc"]["ProcessA"] = function() { };
tbc_ProcessA.__name__ = true;
tbc_ProcessA.__interfaces__ = [tbc_ProcessI];
tbc_ProcessA.printStack = function() {
	haxe_Log.trace(haxe_CallStack.toString(haxe_CallStack.exceptionStack()),{ fileName : "src/tbc/TBC.hx", lineNumber : 98, className : "tbc.ProcessA", methodName : "printStack"});
};
tbc_ProcessA.prototype = {
	bind: function(f) {
		return new tbc__$TBC_ThenP(this,f);
	}
	,map: function(f) {
		var f1 = function(a) {
			return new tbc__$TBC_ExecP(function() {
				return f(a);
			});
		};
		return new tbc__$TBC_ThenP(this,f1);
	}
	,sc: function(q) {
		return new tbc__$TBC_ThenP(this,function(a) {
			return q;
		});
	}
	,run: function() {
		this.go(function(a) {
			return { };
		},function(ex) {
			haxe_Log.trace("Process throws uncaught exception " + Std.string(ex),{ fileName : "src/tbc/TBC.hx", lineNumber : 105, className : "tbc.ProcessA", methodName : "run"});
			haxe_Log.trace(haxe_CallStack.toString(haxe_CallStack.exceptionStack()),{ fileName : "src/tbc/TBC.hx", lineNumber : 106, className : "tbc.ProcessA", methodName : "run"});
			return;
		});
	}
	,go: function(k,h) {
		h("go is not defined in " + Std.string(this));
	}
	,__class__: tbc_ProcessA
};
var tbc__$TBC_ThenP = function(left,right) {
	this._left = left;
	this._right = right;
};
tbc__$TBC_ThenP.__name__ = true;
tbc__$TBC_ThenP.__super__ = tbc_ProcessA;
tbc__$TBC_ThenP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(f,h) {
		var _gthis = this;
		this._left.go(function(a) {
			_gthis._right(a).go(f,h);
		},h);
	}
	,__class__: tbc__$TBC_ThenP
});
var tbc__$TBC_ExecP = function(f) {
	this._f = f;
};
tbc__$TBC_ExecP.__name__ = true;
tbc__$TBC_ExecP.__super__ = tbc_ProcessA;
tbc__$TBC_ExecP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		try {
			k(this._f());
		} catch( ex ) {
			haxe_CallStack.lastException = ex;
			h(((ex) instanceof js__$Boot_HaxeError) ? ex.val : ex);
		}
	}
	,__class__: tbc__$TBC_ExecP
});
var tbc__$TBC_TossP = function(ex) {
	this._ex = ex;
};
tbc__$TBC_TossP.__name__ = true;
tbc__$TBC_TossP.__super__ = tbc_ProcessA;
tbc__$TBC_TossP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		h(this._ex);
	}
	,__class__: tbc__$TBC_TossP
});
var tbc__$TBC_AttemptP = function(p,f,q) {
	this._p = p;
	this._f = f;
	this._q = q;
};
tbc__$TBC_AttemptP.__name__ = true;
tbc__$TBC_AttemptP.__super__ = tbc_ProcessA;
tbc__$TBC_AttemptP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var _gthis = this;
		this._p.go(function(a) {
			_gthis._q.go(function(t) {
				k(a);
			},h);
		},function(ex) {
			_gthis._f(ex).go(function(a1) {
				_gthis._q.go(function(t1) {
					k(a1);
				},h);
			},function(ex1) {
				_gthis._q.go(function(t2) {
					h(ex1);
				},function(ex2) {
					h(new tbc_Pair(ex1,ex2));
				});
			});
		});
	}
	,__class__: tbc__$TBC_AttemptP
});
var tbc_Disabler = $hx_exports["tbc"]["Disabler"] = function() { };
tbc_Disabler.__name__ = true;
tbc_Disabler.prototype = {
	__class__: tbc_Disabler
};
var tbc_GuardI = $hx_exports["tbc"]["GuardI"] = function() { };
tbc_GuardI.__name__ = true;
tbc_GuardI.prototype = {
	__class__: tbc_GuardI
};
var tbc__$TBC_Guard_$Impl_$ = $hx_exports["tbc"]["_TBC"]["Guard_Impl_"] = {};
tbc__$TBC_Guard_$Impl_$.__name__ = true;
tbc__$TBC_Guard_$Impl_$._new = function(g) {
	var this1 = g;
	return this1;
};
tbc__$TBC_Guard_$Impl_$.enable = function(this1,k,h) {
	return this1.enable(k,h);
};
tbc__$TBC_Guard_$Impl_$.guarding = function(this1,k) {
	return this1.guarding(k);
};
tbc__$TBC_Guard_$Impl_$.andThen = function(this1,p) {
	return this1.andThen(p);
};
tbc__$TBC_Guard_$Impl_$.filter = function(this1,c) {
	return this1.filter(c);
};
var tbc_GuardA = $hx_exports["tbc"]["GuardA"] = function() { };
tbc_GuardA.__name__ = true;
tbc_GuardA.__interfaces__ = [tbc_GuardI];
tbc_GuardA.prototype = {
	enable: function(k,h) {
		h("Method enable not overridden in " + Std.string(this));
		return null;
	}
	,guarding: function(k) {
		return new tbc__$TBC_GuardedProcessC(this,k);
	}
	,andThen: function(p) {
		return this.guarding(function(ev) {
			return p;
		});
	}
	,filter: function(c) {
		return new tbc_FliteredGuard(this,c);
	}
	,__class__: tbc_GuardA
};
var tbc_FliteredGuard = $hx_exports["tbc"]["FliteredGuard"] = function(guard,c) {
	this._guard = guard;
	this._filter = c;
};
tbc_FliteredGuard.__name__ = true;
tbc_FliteredGuard.__super__ = tbc_GuardA;
tbc_FliteredGuard.prototype = $extend(tbc_GuardA.prototype,{
	enable: function(k,h) {
		var _gthis = this;
		return this._guard.enable(function(b) {
			if(_gthis._filter(b)) {
				k(b);
			}
		},h);
	}
	,__class__: tbc_FliteredGuard
});
var tbc_GuardedProcessI = $hx_exports["tbc"]["GuardedProcessI"] = function() { };
tbc_GuardedProcessI.__name__ = true;
tbc_GuardedProcessI.prototype = {
	__class__: tbc_GuardedProcessI
};
var tbc__$TBC_GuardedProcess_$Impl_$ = $hx_exports["tbc"]["_TBC"]["GuardedProcess_Impl_"] = {};
tbc__$TBC_GuardedProcess_$Impl_$.__name__ = true;
tbc__$TBC_GuardedProcess_$Impl_$._new = function(gp) {
	var this1 = gp;
	return this1;
};
tbc__$TBC_GuardedProcess_$Impl_$.bind = function(this1,f) {
	var this2 = this1.bind(f);
	return this2;
};
tbc__$TBC_GuardedProcess_$Impl_$.sc = function(this1,q) {
	var this2 = this1.sc(q);
	return this2;
};
tbc__$TBC_GuardedProcess_$Impl_$.orElse = function(this1,gp) {
	var this2 = this1.orElse(gp);
	return this2;
};
tbc__$TBC_GuardedProcess_$Impl_$.enable = function(this1,first,k,h) {
	return this1.enable(first,k,h);
};
var tbc_GuardedProcessA = $hx_exports["tbc"]["GuardedProcessA"] = function() { };
tbc_GuardedProcessA.__name__ = true;
tbc_GuardedProcessA.__interfaces__ = [tbc_GuardedProcessI];
tbc_GuardedProcessA.prototype = {
	bind: function(f) {
		return new tbc__$TBC_ThenGP(this,f);
	}
	,sc: function(b) {
		return new tbc__$TBC_ThenGP(this,function(a) {
			return b;
		});
	}
	,orElse: function(gp) {
		return new tbc__$TBC_ChoiceGP(this,gp);
	}
	,enable: function(first,k,h) {
		h("enable is not defined in " + Std.string(this));
		return null;
	}
	,__class__: tbc_GuardedProcessA
};
var tbc__$TBC_GuardedProcessC = function(guard,f) {
	this._guard = guard;
	this._f = f;
};
tbc__$TBC_GuardedProcessC.__name__ = true;
tbc__$TBC_GuardedProcessC.__super__ = tbc_GuardedProcessA;
tbc__$TBC_GuardedProcessC.prototype = $extend(tbc_GuardedProcessA.prototype,{
	enable: function(first,k,h) {
		var _gthis = this;
		return this._guard.enable(function(e) {
			first();
			_gthis._f(e).go(k,h);
		},h);
	}
	,__class__: tbc__$TBC_GuardedProcessC
});
var tbc__$TBC_ThenGP = function(gp,f) {
	this._gp = gp;
	this._f = f;
};
tbc__$TBC_ThenGP.__name__ = true;
tbc__$TBC_ThenGP.__super__ = tbc_GuardedProcessA;
tbc__$TBC_ThenGP.prototype = $extend(tbc_GuardedProcessA.prototype,{
	enable: function(first,k,h) {
		var _gthis = this;
		return this._gp.enable(first,function(a) {
			_gthis._f(a).go(k,h);
		},h);
	}
	,__class__: tbc__$TBC_ThenGP
});
var tbc__$TBC_ChoiceGP = function(gp0,gp1) {
	this._gp0 = gp0;
	this._gp1 = gp1;
};
tbc__$TBC_ChoiceGP.__name__ = true;
tbc__$TBC_ChoiceGP.__super__ = tbc_GuardedProcessA;
tbc__$TBC_ChoiceGP.prototype = $extend(tbc_GuardedProcessA.prototype,{
	enable: function(first,k,h) {
		var d0 = this._gp0.enable(first,k,h);
		var d1 = this._gp1.enable(first,k,h);
		return new tbc__$TBC_ChoiceDisabler(d0,d1);
	}
	,__class__: tbc__$TBC_ChoiceGP
});
var tbc__$TBC_ChoiceDisabler = function(d0,d1) {
	this._d0 = d0;
	this._d1 = d1;
};
tbc__$TBC_ChoiceDisabler.__name__ = true;
tbc__$TBC_ChoiceDisabler.__interfaces__ = [tbc_Disabler];
tbc__$TBC_ChoiceDisabler.prototype = {
	disable: function() {
		this._d0.disable();
		this._d1.disable();
	}
	,__class__: tbc__$TBC_ChoiceDisabler
};
var tbc__$TBC_AwaitP = function(gp) {
	this._gp = gp;
};
tbc__$TBC_AwaitP.__name__ = true;
tbc__$TBC_AwaitP.__super__ = tbc_ProcessA;
tbc__$TBC_AwaitP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var disabler = null;
		var disable = function() {
			disabler.disable();
		};
		disabler = this._gp.enable(disable,k,h);
	}
	,__class__: tbc__$TBC_AwaitP
});
var tbc__$TBC_AltP = function(e,p,q) {
	this._e = e;
	this._p = p;
	this._q = q;
};
tbc__$TBC_AltP.__name__ = true;
tbc__$TBC_AltP.__super__ = tbc_ProcessA;
tbc__$TBC_AltP.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var _gthis = this;
		this._e.go(function(b) {
			if(b) {
				_gthis._p.go(k,h);
			} else {
				_gthis._q.go(k,h);
			}
		},h);
	}
	,__class__: tbc__$TBC_AltP
});
var tbc__$TBC_Par2P = function(p,q) {
	this._p = p;
	this._q = q;
};
tbc__$TBC_Par2P.__name__ = true;
tbc__$TBC_Par2P.__super__ = tbc_ProcessA;
tbc__$TBC_Par2P.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var result = new tbc_Pair();
		var completed = 0;
		this._p.go(function(a) {
			result._left = a;
			completed += 1;
			if(completed == 2) {
				k(result);
			}
		},h);
		this._q.go(function(b) {
			result._right = b;
			completed += 1;
			if(completed == 2) {
				k(result);
			}
		},h);
	}
	,__class__: tbc__$TBC_Par2P
});
var tbc__$TBC_ParFor = function(n,f) {
	this._n = n;
	this._f = f;
};
tbc__$TBC_ParFor.__name__ = true;
tbc__$TBC_ParFor.__super__ = tbc_ProcessA;
tbc__$TBC_ParFor.prototype = $extend(tbc_ProcessA.prototype,{
	go: function(k,h) {
		var _gthis = this;
		var this1 = new Array(this._n);
		var result = this1;
		var completed = 0;
		var _g = 0;
		var _g1 = this._n;
		while(_g < _g1) {
			var i = [_g++];
			this._f(i[0]).go((function(i1) {
				return function(a) {
					result[i1[0]] = a;
					completed += 1;
					if(completed == _gthis._n) {
						k(result);
					}
				};
			})(i),h);
		}
	}
	,__class__: tbc__$TBC_ParFor
});
var tbc_Triv = $hxEnums["tbc.Triv"] = { __ename__ : true, __constructs__ : []
};
var tbc_Pair = $hx_exports["tbc"]["Pair"] = function(a,b) {
	this._left = a;
	this._right = b;
};
tbc_Pair.__name__ = true;
tbc_Pair.prototype = {
	__class__: tbc_Pair
};
var tbc_TBC = $hx_exports["tbc"]["TBC"] = function() {
};
tbc_TBC.__name__ = true;
tbc_TBC.skip = function() {
	return tbc_TBC.unit(null);
};
tbc_TBC.unit = function(a) {
	return new tbc__$TBC_ExecP(function() {
		return a;
	});
};
tbc_TBC.exec = function(f) {
	return new tbc__$TBC_ExecP(f);
};
tbc_TBC.par = function(p,q) {
	return new tbc__$TBC_Par2P(p,q);
};
tbc_TBC.parFor = function(n,f) {
	return new tbc__$TBC_ParFor(n,f);
};
tbc_TBC.loop = function(p) {
	var this1 = p.bind(function(a) {
		return tbc_TBC.loop(p);
	});
	return this1;
};
tbc_TBC.alt = function(e,p,q) {
	return new tbc__$TBC_AltP(e,p,q);
};
tbc_TBC.fix = function(f) {
	var p = null;
	var fp = function() {
		if(p == null) {
			return tbc_TBC.toss("TBC Error in fix. Possibly a missing invoke?");
		} else {
			return p;
		}
	};
	p = f(fp);
	return p;
};
tbc_TBC.toss = function(ex) {
	return new tbc__$TBC_TossP(ex);
};
tbc_TBC.attempt = function(p,f,q) {
	if(q == null) {
		q = tbc_TBC.skip();
	}
	return new tbc__$TBC_AttemptP(p,f,q);
};
tbc_TBC.ultimately = function(p,q) {
	var f = function(ex) {
		return tbc_TBC.toss(ex);
	};
	return tbc_TBC.attempt(p,f,q);
};
tbc_TBC.invoke = function(fp) {
	var this1 = tbc_TBC.exec(fp).bind(function(p) {
		return p;
	});
	return this1;
};
tbc_TBC.await = function(gp0,gp1,gp2,gp3,gp4,gp5) {
	var gp = gp0;
	if(gp1 != null) {
		var this1 = gp.orElse(gp1);
		gp = this1;
	}
	if(gp2 != null) {
		var this2 = gp.orElse(gp2);
		gp = this2;
	}
	if(gp3 != null) {
		var this3 = gp.orElse(gp3);
		gp = this3;
	}
	if(gp4 != null) {
		var this4 = gp.orElse(gp4);
		gp = this4;
	}
	if(gp5 != null) {
		var this5 = gp.orElse(gp5);
		gp = this5;
	}
	return new tbc__$TBC_AwaitP(gp);
};
tbc_TBC.prototype = {
	__class__: tbc_TBC
};
var tbc__$TBCHTML_ElementDisabler = function(el,removeHandler) {
	this._el = el;
	this._removeHandler = removeHandler;
};
tbc__$TBCHTML_ElementDisabler.__name__ = true;
tbc__$TBCHTML_ElementDisabler.__interfaces__ = [tbc_Disabler];
tbc__$TBCHTML_ElementDisabler.prototype = {
	disable: function() {
		this._removeHandler();
		this.disableElement();
	}
	,disableElement: function() {
		var el = this._el;
		if(el.disabled != null) {
			el.disabled = true;
		}
	}
	,__class__: tbc__$TBCHTML_ElementDisabler
};
var tbc_HTMLEventGuardA = $hx_exports["tbc"]["HTMLEventGuardA"] = function(el) {
	this._el = el;
};
tbc_HTMLEventGuardA.__name__ = true;
tbc_HTMLEventGuardA.__super__ = tbc_GuardA;
tbc_HTMLEventGuardA.prototype = $extend(tbc_GuardA.prototype,{
	enable: function(k,h) {
		var _gthis = this;
		this.addHandler(k,h);
		this.enableElement();
		return new tbc__$TBCHTML_ElementDisabler(this._el,function() {
			_gthis.removeHandler(k,h);
		});
	}
	,enableElement: function() {
		var el = this._el;
		if(el.disabled != null) {
			el.disabled = false;
		}
	}
	,addHandler: function(k,h) {
		h("addHandler is not defined in " + Std.string(this));
	}
	,removeHandler: function(k,h) {
		h("removeHandler is not defined in " + Std.string(this));
	}
	,__class__: tbc_HTMLEventGuardA
});
var tbc_ClickG = $hx_exports["tbc"]["ClickG"] = function(el) {
	tbc_HTMLEventGuardA.call(this,el);
};
tbc_ClickG.__name__ = true;
tbc_ClickG.__super__ = tbc_HTMLEventGuardA;
tbc_ClickG.prototype = $extend(tbc_HTMLEventGuardA.prototype,{
	addHandler: function(k,h) {
		this._el.onclick = k;
	}
	,removeHandler: function(k,h) {
		this._el.onclick = null;
	}
	,__class__: tbc_ClickG
});
var tbc_SubmitG = $hx_exports["tbc"]["SubmitG"] = function(el) {
	tbc_HTMLEventGuardA.call(this,el);
};
tbc_SubmitG.__name__ = true;
tbc_SubmitG.__super__ = tbc_HTMLEventGuardA;
tbc_SubmitG.prototype = $extend(tbc_HTMLEventGuardA.prototype,{
	addHandler: function(k,h) {
		this._el.onsubmit = k;
	}
	,removeHandler: function(k,h) {
		this._el.onsubmit = null;
	}
	,__class__: tbc_SubmitG
});
var tbc_KeyPressG = $hx_exports["tbc"]["KeyPressG"] = function(el) {
	tbc_HTMLEventGuardA.call(this,el);
};
tbc_KeyPressG.__name__ = true;
tbc_KeyPressG.__super__ = tbc_HTMLEventGuardA;
tbc_KeyPressG.prototype = $extend(tbc_HTMLEventGuardA.prototype,{
	addHandler: function(k,h) {
		this._el.onkeypress = k;
	}
	,removeHandler: function(k,h) {
		this._el.onkeypress = null;
	}
	,__class__: tbc_KeyPressG
});
var tbc_ChangeG = $hx_exports["tbc"]["ChangeG"] = function(el) {
	tbc_HTMLEventGuardA.call(this,el);
};
tbc_ChangeG.__name__ = true;
tbc_ChangeG.__super__ = tbc_HTMLEventGuardA;
tbc_ChangeG.prototype = $extend(tbc_HTMLEventGuardA.prototype,{
	addHandler: function(k,h) {
		this._el.onchange = k;
	}
	,removeHandler: function(k,h) {
		this._el.onchange = null;
	}
	,__class__: tbc_ChangeG
});
var tbc_TBCHTML = $hx_exports["tbc"]["TBCHTML"] = function() { };
tbc_TBCHTML.__name__ = true;
tbc_TBCHTML.click = function(el) {
	return new tbc_ClickG(el);
};
tbc_TBCHTML.submit = function(el) {
	return new tbc_SubmitG(el);
};
tbc_TBCHTML.keypress = function(el) {
	return new tbc_KeyPressG(el);
};
tbc_TBCHTML.change = function(el) {
	return new tbc_ChangeG(el);
};
var tbc__$TBCTime_MyTimer = function(timeInMiliSecs,k) {
	var _gthis = this;
	this.timer = new haxe_Timer(timeInMiliSecs);
	this.timer.run = function() {
		_gthis.timer.stop();
		k(null);
	};
};
tbc__$TBCTime_MyTimer.__name__ = true;
tbc__$TBCTime_MyTimer.__interfaces__ = [tbc_Disabler];
tbc__$TBCTime_MyTimer.prototype = {
	disable: function() {
		this.timer.stop();
	}
	,__class__: tbc__$TBCTime_MyTimer
};
var tbc_TimeOutGuard = $hx_exports["tbc"]["TimeOutGuard"] = function(timeInMiliSecs) {
	this._timeInMiliSecs = timeInMiliSecs;
};
tbc_TimeOutGuard.__name__ = true;
tbc_TimeOutGuard.__super__ = tbc_GuardA;
tbc_TimeOutGuard.prototype = $extend(tbc_GuardA.prototype,{
	enable: function(k,h) {
		return new tbc__$TBCTime_MyTimer(this._timeInMiliSecs,k);
	}
	,__class__: tbc_TimeOutGuard
});
var tbc_TBCTime = $hx_exports["tbc"]["TBCTime"] = function() { };
tbc_TBCTime.__name__ = true;
tbc_TBCTime.pause = function(delayInMiliSecs) {
	return tbc_TBC.await(tbc__$TBC_Guard_$Impl_$.andThen(tbc_TBCTime.timeout(delayInMiliSecs),tbc_TBC.skip()));
};
tbc_TBCTime.later = function() {
	return tbc_TBCTime.pause(0);
};
tbc_TBCTime.timeout = function(delayInMiliSecs) {
	return new tbc_TimeOutGuard(delayInMiliSecs);
};
String.prototype.__class__ = String;
String.__name__ = true;
Array.__name__ = true;
Date.prototype.__class__ = Date;
Date.__name__ = "Date";
var Int = { };
var Dynamic = { };
var Float = Number;
var Bool = Boolean;
var Class = { };
var Enum = { };
Object.defineProperty(js__$Boot_HaxeError.prototype,"message",{ get : function() {
	return String(this.val);
}});
js_Boot.__toStr = ({ }).toString;
Controller.main();
})(typeof exports != "undefined" ? exports : typeof window != "undefined" ? window : typeof self != "undefined" ? self : this, typeof window != "undefined" ? window : typeof global != "undefined" ? global : typeof self != "undefined" ? self : this);
